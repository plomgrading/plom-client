<!-- 
    SPDX-License-Identifier: AGPL-3.0-or-later
    Copyright (C) 2023 Julian Lapenna
-->

{% extends 'base/base.html' %}
{% load static %}

{% block page_heading %}Tag Info{% endblock %}

{% block main_content %}

<p>Tag text: {{ tag.text }}</p>
<p>User: {{ tag.user }}</p>
<p>Time: {{ tag.time }}</p>
<p>Associated codes:
    {{ tag.task.first.code }}
    {% for task in tag.task.all|slice:"1:" %} <!-- so that it doesn't end with a comma -->
    , {{ task.code }}
    {% endfor %}</p>
<p>Used: {{ tag.task.count }} times</p>

<form action="{% url 'tag_edit' tag.text %}" method="POST">
    {% csrf_token %}
    {{ form.as_p }}
    <input type="submit" value="Submit">
</form>
<br>
<br>
<div>
    <a href="{% url 'tags_landing' %}">Back to all tags</a>

    <div style="text-align: right; padding-right: 2%;">
        <button onclick="location.href='{% url 'tag_delete' tag.text %}';" class="delete-button">Delete tag</button>
    </div>
    
</div>
{% endblock %}