<script>
    document.getElementById("{{ discarded_hash }}_button").click();
</script>
<button 
    type="button" 
    data-bs-toggle="modal" 
    data-bs-target="#pageModal{{ discarded_hash }}" 
    id="{{ discarded_hash }}_button" 
    style="display: none;"
>
</button>
<div class="modal" id="pageModal{{ discarded_hash }}">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h6 class="modal-title">Discarded image</h6>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <img 
                    src="{% url 'progress_scan_discarded_image' discarded_hash %}"
                    class="w-100 thumbnail shadow-sm"
                >
            </div>
            <div class="modal-footer">
                <a 
                    class="btn btn-danger"
                    hx-delete="{% url 'progress_delete_discarded' discarded_hash %}"
                    hx-confirm="Are you sure? A deleted image cannot be recovered."
                >
                    Delete
                </a>
                <a
                    class="btn btn-primary"
                    hx-post="{% url 'progress_restore_discarded' discarded_hash %}"
                    hx-confirm="Are you sure?"
                >
                    Restore
                </a>
            </div>
        </div>
    </div>
</div>